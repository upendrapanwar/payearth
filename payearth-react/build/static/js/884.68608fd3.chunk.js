"use strict";(self.webpackChunkpay_earth=self.webpackChunkpay_earth||[]).push([[884],{85884:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var r=s(65043),a=s(7058),c=s(62590),i=(s(41219),s(86213)),n=s(28096),d=s(97508),l=s(70579);const o=()=>{const[e,t]=(0,r.useState)([]),[s,o]=(0,r.useState)([]),u=(0,d.d4)((e=>e.wishlist.selectedWishItems));n.oR.configure(),(0,r.useEffect)((()=>{(async()=>{try{const e=await i.A.get("front/product/trending/50");if(console.log("trending response----",e),e.data.status){const s=e.data.data.map((e=>{const t=e.productDetails.reviews.reduce(((e,t)=>e+t.rating),0)/e.productDetails.reviews.length;return{id:e.productDetails._id,image:e.productDetails.featuredImage,name:e.productDetails.name,price:e.productDetails.price,avgRating:t,isService:e.productDetails.isService,quantity:e.productDetails.quantity.stock_qty}}));t(s),p(s)}else n.oR.error(e.data.message)}catch(e){n.oR.error(e.message||"Failed to fetch trending products."),console.error(e)}})()}),[]),(0,r.useEffect)((()=>{const t=setInterval((()=>{p(e)}),1e4);return()=>clearInterval(t)}),[e]);const p=e=>{if(e.length>0){const t=[...e].sort((()=>.5-Math.random()));o(t.slice(0,4))}};return(0,l.jsx)("section",{className:"trending_products_sec",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsxs)("div",{className:"col-sm-12",children:[s.length>0?(0,l.jsx)(a.A,{title:"Trending Products",viewMore:!1,route:"#"}):null,(0,l.jsx)("div",{className:"cards_wrapper",children:s.length>0?s.map(((e,t)=>(0,l.jsx)(c.A,{data:e,inWishList:0!==u.length&&u.includes(e.id)},e.id))):null})]})})})})}}}]);
//# sourceMappingURL=884.68608fd3.chunk.js.map