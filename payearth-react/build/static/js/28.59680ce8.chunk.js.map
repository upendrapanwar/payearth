{"version":3,"file":"static/js/28.59680ce8.chunk.js","mappings":"8NAQIA,EAAe,GACnB,MAkFA,EAlFwBC,KACtB,MAAOC,EAAUC,IAAeC,EAAAA,EAAAA,UAAS,IACnCC,GAAoBC,EAAAA,EAAAA,KACvBC,GAAUA,EAAMC,SAASH,oBAmC5B,OAjCAI,EAAAA,GAAMC,aAENC,EAAAA,EAAAA,YAAU,KACRX,EAAe,GACfY,EAAAA,EACGC,IAAI,2BACJC,MAAMC,IACL,GAAIA,EAASC,KAAKC,OAAQ,CACdF,EAASC,KAAKA,KACpBE,SAASC,IACX,MACMC,EADeD,EAAQE,eAAeC,QAAQC,QAAO,CAACC,EAAKC,IAAWD,EAAMC,EAAOC,QAAQ,GAChEP,EAAQE,eAAeC,QAAQK,OAChE3B,EAAa4B,KAAK,CAChBC,GAAIV,EAAQE,eAAeS,IAC3BC,MAAOZ,EAAQE,eAAeW,cAC9BC,KAAMd,EAAQE,eAAeY,KAC7BC,MAAOf,EAAQE,eAAea,MAC9Bd,UAAWA,EACXe,UAAWhB,EAAQE,eAAec,UAClCC,SAAUjB,EAAQE,eAAee,SAASC,WAE1C,IAEJlC,EAAYH,EACd,MACES,EAAAA,GAAM6B,MAAMvB,EAASC,KAAKuB,QAC5B,IAEDC,OAAOF,IACN7B,EAAAA,GAAM6B,MAAMA,EAAM,GAClB,GACH,KAGDG,EAAAA,EAAAA,KAAA,WAASC,UAAU,uBAAsBC,UACvCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACxBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,MAAKC,UAClBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,CACvBzC,GAAYA,EAASyB,QACpBc,EAAAA,EAAAA,KAACI,EAAAA,EAAY,CAACC,MAAM,mBAAmBC,UAAU,IAEjD,IAEFN,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAC3BzC,GAAYA,EAASyB,OAClBzB,EAAS8C,KAAI,CAAC7B,EAAS8B,KAErBR,EAAAA,EAAAA,KAACS,EAAAA,EAAW,CACVlC,KAAMG,EAENgC,aAC+B,IAA7B9C,EAAkBsB,SAChBtB,EAAkB+C,SAASjC,EAAQU,MAHlCoB,KAUT,KAEL/C,GAAYA,EAASyB,QACpBc,EAAAA,EAAAA,KAAA,OAAKC,UAAU,cAAaC,UAC1BF,EAAAA,EAAAA,KAACY,EAAAA,GAAI,CAACC,GAAG,mBAAmBZ,UAAU,uBAAsBC,SAAC,gBAK/D,WAKA,C","sources":["components/user/home/PopularProducts.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SectionTitle from \"./SectionTitle\";\r\nimport ProductCard from \"./../../common/ProductCard\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nvar productsData = [];\r\nconst PopularProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const selectedWishItems = useSelector(\r\n    (state) => state.wishlist.selectedWishItems\r\n  );\r\n  toast.configure();\r\n\r\n  useEffect(() => {\r\n    productsData = [];\r\n    axios\r\n      .get(\"front/product/popular/8\")\r\n      .then((response) => {\r\n        if (response.data.status) {\r\n          let res = response.data.data;\r\n          res.forEach((product) => {\r\n            const totalRatings = product.productDetails.reviews.reduce((sum, review) => sum + review.rating, 0);\r\n            const avgRating = totalRatings / product.productDetails.reviews.length;\r\n            productsData.push({\r\n              id: product.productDetails._id,\r\n              image: product.productDetails.featuredImage,\r\n              name: product.productDetails.name,\r\n              price: product.productDetails.price,\r\n              avgRating: avgRating,\r\n              isService: product.productDetails.isService,\r\n              quantity: product.productDetails.quantity.stock_qty,\r\n              // cryptoPrices: product.productDetails.cryptoPrices,\r\n            });\r\n          });\r\n          setProducts(productsData);\r\n        } else {\r\n          toast.error(response.data.message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        toast.error(error);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"popular_products_sec\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12\">\r\n            {products && products.length ? (\r\n              <SectionTitle title=\"Popular Products\" viewMore={false} />\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            <div className=\"cards_wrapper\">\r\n              {products && products.length\r\n                ? products.map((product, index) => {\r\n                  return (\r\n                    <ProductCard\r\n                      data={product}\r\n                      key={index}\r\n                      inWishList={\r\n                        selectedWishItems.length !== 0 &&\r\n                          selectedWishItems.includes(product.id)\r\n                          ? true\r\n                          : false\r\n                      }\r\n                    />\r\n                  );\r\n                })\r\n                : \"\"}\r\n            </div>\r\n            {products && products.length ? (\r\n              <div className=\"text-center\">\r\n                <Link to=\"/product-listing\" className=\"view_more float-none\">\r\n                  View More\r\n                </Link>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default PopularProducts;\r\n"],"names":["productsData","PopularProducts","products","setProducts","useState","selectedWishItems","useSelector","state","wishlist","toast","configure","useEffect","axios","get","then","response","data","status","forEach","product","avgRating","productDetails","reviews","reduce","sum","review","rating","length","push","id","_id","image","featuredImage","name","price","isService","quantity","stock_qty","error","message","catch","_jsx","className","children","_jsxs","SectionTitle","title","viewMore","map","index","ProductCard","inWishList","includes","Link","to"],"sourceRoot":""}